# 操作系统

### 内核态和用户态：

用户态和内核态最大的区别就是他们的权限不同。**内核态下**：CPU 可以访问内存的所有数据，包括外围设备，比如硬盘，网卡等。CPU 也可以将自己从一个程序切换到另外一个程序。**用户态下**：只能访问受限等内存，不允许访问外围设备。

#### 为什么要区分用户态和内核态？

在 CPU 的所有指令中，有一些指令是非常危险的，如果错用，就会导致整个系统的奔溃。比如：清理内存，设置时钟等。如果所有的程序都能够使用这些危险的指令，那么操作系统一天奔溃很多次都很正常。所以，CPU 将指令分为特权指令和非特权指令，只有内核态下才能执行特权指令。对于那些危险的指令，只允许操作系及其相关模块使用。



### 进程和线程的区别？

**进程**：进程是程序的一次执行过程，是程序在执行过程中的分配和管理资源的基本单位，进程之间相互独立，每个进程都有自己的地址空间。一个进程在执行中可能产生许多个线程。

**线程**：线程是 CPU 调度和分配的基本单位，它可以和同一进程下的其他线程共享资源。同一进程的线程会相互影响，线程开销小，不利于资源管理和保护。

进程的五种状态：创建、就绪、运行、阻塞、结束

线程的六种状态：初始、运行、阻塞、等待、超时等待、终止



### 进程间通信的方式（IPC）

1.管道， 2. 匿名管道， 3. 信号， 4. 信号量， 5. 消息队列， 6. 套接字， 7. 共享内存



### 线程同步的方式：

信号量，互斥量，事件（wait / notify）



### 进程调度算法

1.先来先服务 2.最短作业优先 3.高响应比优先（响应比 = （作业处理时间 + 要求服务时间）/ 要求服务时间）4.时间片轮转 5.高优先级 6.多级反馈队列

### 页面置换算法

1.最佳页面置换（置换在“未来”最长时间不访问的页面）2.先进先出置换 3.最近最久未使用置换（选择最长时间没有被访问的页面进行置换）4.时钟页面 5.最不常用置换（淘汰一定时期内访问次数最少的）

### 磁盘调度算法

1.先来先服务算法 2.最短寻址时间优先 3.扫描算法 4.循环算法



### 匿名管道和有名管道的区别：

1. 匿名管道只能用于具有亲缘关系的两个进程间的通信，有名管道可以用于任何两个进程间的通信，要灵活方便很多。
2. 有名管道是一种特殊的文件类型，而且存在于文件系统中。所以，当通信进程使用完有名管道后，如果没有对其进行删除，该文件将依然存在。而匿名管道只存在于内存中，无法在文件系统中存在。



### 对称加密和非对称加密

对称加密：加解密使用同一串密钥，只有一个密钥称为私钥，常见 DES， AES

非对称加密：加解密使用不同对密钥，一公钥，一私钥。公钥加密的信息，只有私钥才能解密。私钥加密的信息，只有公钥才能解密。 常见 RSA

**对称加密优缺点**：加解密效率高，加密速度快。但是密钥分发和管理困难，不是很安全，密钥管理负担严重。

**非对称加密优缺点**：安全性高，公钥是公开的，私钥自己保存。缺点：加解密时间长，速度慢，只适合少量数据进行加密。

补充：**消息摘要**：将消息哈希成一个长度固定的唯一值，该过程不可逆。常见 MD5，SHA256



### 负载均衡

负载均衡用来在多个计算机、网络连接、CPU、磁盘或其他资源中分配负载，以达到优化资源使用，最大化吞吐率，最小响应时间，同时避免过载的目的。

负载均衡的方法：1.轮询 2.加权轮询 3.随机 4.源地址散列 5.最小连接数